"use strict";function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,r){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],t=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(t=(i=c.next()).done)&&(n.push(i.value),!r||n.length!==r);t=!0);}catch(e){a=!0,o=e}finally{try{t||null==c.return||c.return()}finally{if(a)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var _require=require("../datebase/conexion"),obtenerConexion=_require.obtenerConexion;function getAll(){var r,n,t,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(obtenerConexion());case 2:return r=e.sent,e.prev=3,e.next=6,regeneratorRuntime.awrap(r.query("SELECT * FROM publicaciones"));case 6:return n=e.sent,t=_slicedToArray(n,1),a=t[0],e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(3),console.error("Error al seleccionar publicaciones",e.t0),e.t0;case 16:return e.prev=16,r.release(),e.finish(16);case 19:case"end":return e.stop()}},null,null,[[3,12,16,19]])}function obtenerImagenPorId(r){var n,t,a,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(obtenerConexion());case 2:return n=e.sent,e.prev=3,e.next=6,regeneratorRuntime.awrap(n.query("SELECT imagen FROM publicaciones WHERE id = ?",[r]));case 6:if(t=e.sent,a=_slicedToArray(t,1),0<(o=a[0]).length)return e.abrupt("return",o[0].imagen);e.next=13;break;case 13:return e.abrupt("return",null);case 14:e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(3),console.error("Error al obtener la imagen:",e.t0),e.t0;case 20:return e.prev=20,n.release(),e.finish(20);case 23:case"end":return e.stop()}},null,null,[[3,16,20,23]])}function obtenerVideoPorId(r){var n,t,a,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(obtenerConexion());case 2:return n=e.sent,e.prev=3,e.next=6,regeneratorRuntime.awrap(n.query("SELECT video FROM publicaciones WHERE id = ?",[r]));case 6:if(t=e.sent,a=_slicedToArray(t,1),0<(o=a[0]).length)return e.abrupt("return",o[0].video);e.next=13;break;case 13:return e.abrupt("return",null);case 14:e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(3),console.error("Error al obtener el video:",e.t0),e.t0;case 20:return e.prev=20,n.release(),e.finish(20);case 23:case"end":return e.stop()}},null,null,[[3,16,20,23]])}function crearPublicacion(r,n,t,a,o){var i;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(obtenerConexion());case 2:return i=e.sent,e.prev=3,e.next=6,regeneratorRuntime.awrap(i.query("INSERT INTO publicaciones (usuario_id, titulo, contenido, imagen, video) VALUES (?, ?, ?, ?, ?)",[r,n,t,a,o]));case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(3),console.error("Error al crear la publicaciÃ³n:",e.t0),e.t0;case 12:return e.prev=12,i.release(),e.finish(12);case 15:case"end":return e.stop()}},null,null,[[3,8,12,15]])}module.exports={getAll:getAll,crearPublicacion:crearPublicacion,obtenerImagenPorId:obtenerImagenPorId,obtenerVideoPorId:obtenerVideoPorId};
//# sourceMappingURL=publicacionModel.min.js.map
